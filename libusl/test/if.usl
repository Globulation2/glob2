val true = {
	def select (trueVal, falseVal) = trueVal ()
	this ()
}

val false = {
	def select (trueVal, falseVal) = falseVal ()
	this ()
}

def iff(cond) = {
	def apply (trueVal) = cond select (trueVal(), .)
}

def if(cond) = {
	def apply (trueVal) = {
		def else (falseVal) = cond select (trueVal, falseVal)
		this ()
	}
	this ()
}

if (true) {
	iff(true) { 1 }
} else {
	2
}
