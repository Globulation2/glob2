source_files = Split("""
AICastor.cpp                     GameUtilities.cpp                 Order.cpp
AI.cpp                           Glob2.cpp                         OverlayAreas.cpp
AIEcho.cpp                       Glob2Screen.cpp                   PerlinNoise.cpp
AINicowar.cpp                    Glob2Style.cpp                    Player.cpp
AINull.cpp                       GlobalContainer.cpp               Race.cpp
AINumbi.cpp                      GUIGlob2FileList.cpp              Ressource.cpp
AIToubib.cpp                     GUIMapPreview.cpp                 RessourcesTypes.cpp
AIWarrush.cpp                    HeightMapGenerator.cpp            ScriptEditorScreen.cpp
BitArray.cpp                     IntBuildingType.cpp               Sector.cpp
Brush.cpp                        IRC.cpp                           Settings.cpp
Building.cpp                     KeyboardManager.cpp               SettingsScreen.cpp
BuildingsTypes.cpp               LANFindScreen.cpp                 SGSL.cpp
BuildingType.cpp                 LANGameInformation.cpp            SoundMixer.cpp
Bullet.cpp                       LANMenuScreen.cpp                 Team.cpp
Campaign.cpp                     LogFileManager.cpp                TeamStat.cpp
CampaignEditor.cpp               MainMenuScreen.cpp                UnitConsts.cpp
CampaignMenuScreen.cpp           MapAssembler.cpp                  Unit.cpp
CampaignScreen.cpp               Map.cpp                           UnitEditorScreen.cpp
CampaignSelectorScreen.cpp       MapEdit.cpp                       UnitSkin.cpp
ChooseMapScreen.cpp              MapEditKeyActions.cpp             UnitsSkins.cpp
CPUStatisticsManager.cpp         MapGenerationDescriptor.cpp       UnitType.cpp
CreditScreen.cpp                 MapGenerator.cpp                  Utilities.cpp
CustomGameScreen.cpp             MapHeader.cpp                     VoiceRecorder.cpp
DynamicClouds.cpp                MarkManager.cpp                   YOGClient.cpp
EndGameScreen.cpp                Minimap.cpp                       
Engine.cpp                       MultiplayerGame.cpp               YOGEvent.cpp
EntityType.cpp                   MultiplayerGameEvent.cpp          YOGEventListener.cpp
Fatal.cpp                        MultiplayerGameEventListener.cpp  YOGGame.cpp
Game.cpp                         MultiplayerGameScreen.cpp         YOGGameInfo.cpp
GameEvent.cpp                    NetBroadcaster.cpp                YOGGameServer.cpp
GameGUI.cpp                      NetBroadcastListener.cpp          YOGLoginScreen.cpp
GameGUIDefaultAssignManager.cpp  NetConnection.cpp                 YOGMapDistributor.cpp
GameGUIDialog.cpp                NetEngine.cpp                     YOGMessage.cpp
GameGUIKeyActions.cpp            NetListener.cpp                   YOGPasswordRegistry.cpp
GameGUILoadSave.cpp              NetMessage.cpp                    YOGPlayer.cpp
GameGUIMessageManager.cpp        NetTestSuite.cpp                  YOGPlayerInfo.cpp
GameGUIToolManager.cpp           NetTextMessageHandler.cpp         YOGScreen.cpp
GameHeader.cpp                   NewMapScreen.cpp""")


Import('env')
local = env.Clone()
local.Append(LIBS=['gag'])
p = local.Program("glob2", source_files)
local.Default(p)

import os

for file in os.listdir("."):
    if file.find(".cpp") != -1:
        env.Tar(env["TARFILE"], file)

env.Tar(env["TARFILE"], "SConscript")
